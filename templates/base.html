{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Fuel Tracker{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
</head>
<body>
    <header class="site-header">
        <div class="container header-inner">
            <a class="brand" href="/">Fuel Tracker</a>
            <nav aria-label="Primary navigation">
                <ul class="nav-list">
                    {% with url_name=request.resolver_match.url_name|default:'' %}
                        <li>
                            <a class="nav-link{% if url_name == 'home' %} active{% endif %}" href="/">
                                <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M4 10.5 12 4l8 6.5V20a1 1 0 0 1-1 1h-5v-5h-4v5H5a1 1 0 0 1-1-1z" fill="currentColor"/></svg>
                                <span>Home</span>
                            </a>
                        </li>
                        {% if request.user.is_authenticated %}
                            <li>
                                <a class="nav-link{% if url_name == 'vehicle-list' or url_name == 'vehicle-add' or url_name == 'vehicle-edit' or url_name == 'vehicle-delete' %} active{% endif %}" href="/vehicles">
                                    <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M3 16v-2l2-6a2 2 0 0 1 2-1h10a2 2 0 0 1 2 1l2 6v2h-1a2 2 0 0 1-4 0H8a2 2 0 0 1-4 0zm3.4-7-1.2 4h12.6l-1.2-4z" fill="currentColor"/></svg>
                                    <span>Vehicles</span>
                                </a>
                            </li>
                            <li>
                                <a class="nav-link nav-link-primary{% if url_name == 'fillup-add' %} active{% endif %}" href="/fillups/add?next={{ request.get_full_path|urlencode }}">
                                    <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M12 5a1 1 0 0 1 1 1v5h5a1 1 0 1 1 0 2h-5v5a1 1 0 1 1-2 0v-5H6a1 1 0 0 1 0-2h5V6a1 1 0 0 1 1-1z" fill="currentColor"/></svg>
                                    <span>Add Fill-Up</span>
                                </a>
                            </li>
                            <li>
                                <a class="nav-link{% if url_name == 'history-list' or url_name == 'fillup-edit' or url_name == 'fillup-delete' %} active{% endif %}" href="/history">
                                    <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M12 5a7 7 0 1 1-6.32 4H3l2.6-3.4L8 9H6.05a5 5 0 1 0 .6-1.28l-1.7-1.7A7 7 0 0 1 12 5zm0 3a1 1 0 0 1 1 1v3.3l2.4 1.2a1 1 0 0 1-.9 1.78l-3-1.5A1 1 0 0 1 11 12V9a1 1 0 0 1 1-1z" fill="currentColor"/></svg>
                                    <span>History</span>
                                </a>
                            </li>
                            <li>
                                <a class="nav-link{% if url_name == 'metrics' %} active{% endif %}" href="/metrics">
                                    <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M4 4h3v16H4zm6 5h3v11h-3zm6-4h3v15h-3z" fill="currentColor"/></svg>
                                    <span>Metrics</span>
                                </a>
                            </li>
                            <li>
                                <a class="nav-link{% if url_name == 'statistics' %} active{% endif %}" href="/statistics">
                                    <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M3 19a1 1 0 0 1 .3-1.7l7-3.2 3.6-7.5a1 1 0 0 1 1.8.2l3 8.5 1.5.6a1 1 0 0 1-.7 1.9l-2-.7a1 1 0 0 1-.6-.6L14.8 8l-2.8 5.7a1 1 0 0 1-.5.5l-7.4 3.4A1 1 0 0 1 3 19z" fill="currentColor"/></svg>
                                    <span>Statistics</span>
                                </a>
                            </li>
                            <li>
                                <a class="nav-link{% if url_name == 'settings' %} active{% endif %}" href="/settings">
                                    <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M10.6 3.2a1.4 1.4 0 0 1 2.8 0l.2 1.5a5.5 5.5 0 0 1 1.8 1l1.4-.6a1.4 1.4 0 0 1 1.9.7l.8 1.7a1.4 1.4 0 0 1-.7 1.9l-1.4.6a5.5 5.5 0 0 1 0 2l1.4.6a1.4 1.4 0 0 1 .7 1.9l-.8 1.7a1.4 1.4 0 0 1-1.9.7l-1.4-.6a5.5 5.5 0 0 1-1.8 1l-.2 1.5a1.4 1.4 0 0 1-2.8 0l-.2-1.5a5.5 5.5 0 0 1-1.8-1l-1.4.6a1.4 1.4 0 0 1-1.9-.7l-.8-1.7a1.4 1.4 0 0 1 .7-1.9l1.4-.6a5.5 5.5 0 0 1 0-2l-1.4-.6a1.4 1.4 0 0 1-.7-1.9l.8-1.7a1.4 1.4 0 0 1 1.9-.7l1.4.6a5.5 5.5 0 0 1 1.8-1zM12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6z" fill="currentColor"/></svg>
                                    <span>Settings</span>
                                </a>
                            </li>
                            <li>
                                <form method="post" action="/auth/signout" class="signout-form">
                                    {% csrf_token %}
                                    <button type="submit" class="nav-link nav-link-secondary">
                                        <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M11 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-3a1 1 0 1 1 2 0v2h5V5h-5v2a1 1 0 0 1-2 0z" fill="currentColor"/><path d="M5.7 7.3a1 1 0 0 1 1.4 0L10 10.2V9a1 1 0 1 1 2 0v4a1 1 0 0 1-1 1H7a1 1 0 1 1 0-2h1.2L7 9.7a1 1 0 0 1 0-1.4z" fill="currentColor"/></svg>
                                        <span>Sign Out</span>
                                    </button>
                                </form>
                            </li>
                        {% else %}
                            <li>
                                <a class="nav-link{% if url_name == 'signin' %} active{% endif %}" href="/auth/signin">
                                    <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M12 3a5 5 0 0 1 0 10 5 5 0 0 1 0-10zm0 12c3.3 0 6 2.7 6 6a1 1 0 0 1-2 0 4 4 0 0 0-8 0 1 1 0 0 1-2 0c0-3.3 2.7-6 6-6z" fill="currentColor"/></svg>
                                    <span>Sign In</span>
                                </a>
                            </li>
                            <li>
                                <a class="nav-link{% if url_name == 'signup' %} active{% endif %}" href="/auth/signup">
                                    <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M12 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 10a7 7 0 0 1 6.9 6h-2a5 5 0 0 0-9.8 0h-2A7 7 0 0 1 12 14z" fill="currentColor"/></svg>
                                    <span>Sign Up</span>
                                </a>
                            </li>
                        {% endif %}
                        <li>
                            <a class="nav-link{% if url_name == 'legal-terms' %} active{% endif %}" href="/legal/terms">
                                <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M6 3h9a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 4v12h8a1 1 0 0 0 1-1V7z" fill="currentColor"/></svg>
                                <span>Terms</span>
                            </a>
                        </li>
                        <li>
                            <a class="nav-link{% if url_name == 'legal-privacy' %} active{% endif %}" href="/legal/privacy">
                                <svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24"><path d="M12 3a7 7 0 0 1 7 7c0 4.6-2.6 8.7-7 11-4.4-2.3-7-6.4-7-11a7 7 0 0 1 7-7zm0 4a3 3 0 0 0-3 3c0 1.4.8 2.7 2 3.4V15a1 1 0 0 0 2 0v-1.6a3.4 3.4 0 0 0 2-3.4 3 3 0 0 0-3-3z" fill="currentColor"/></svg>
                                <span>Privacy</span>
                            </a>
                        </li>
                    {% endwith %}
                </ul>
            </nav>
            {% if request.user.is_authenticated %}
                <div class="user-meta muted">{{ request.user.email }}</div>
            {% endif %}
        </div>
    </header>
    {% if messages %}
        <div class="container messages">
            <ul class="stack-sm">
                {% for message in messages %}
                    <li class="msg {{ message.tags }}">{{ message }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
    <main class="container">
        {% block content %}{% endblock %}
    </main>
    <footer class="site-footer">
        <div class="container">
            <p class="muted">&copy; {% now "Y" %} Fuel Tracker</p>
        </div>
    </footer>
</body>
</html>
