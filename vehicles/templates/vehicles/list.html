{% extends "base.html" %}
{% load static icons %}

{% block title %}Vehicles Â· Fuel Tracker{% endblock %}

{% block content %}
<section class="stack">
    <article class="card">
        <div class="card-header">
            <div class="stack-xs">
                <span class="card-title">Your vehicles</span>
                <p class="text-muted">Keep your garage current to get accurate fuel insights.</p>
            </div>
            <a class="btn btn-primary" href="{% url 'vehicle-add' %}">{% icon 'plus' size='sm' %}<span>Add vehicle</span></a>
        </div>
        {% if object_list %}
            <div class="card-body" style="padding:0">
                <div class="table-wrap">
                    <table>
                        <thead>
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Make</th>
                                <th scope="col">Model</th>
                                <th scope="col">Year</th>
                                <th scope="col">Fuel type</th>
                                <th scope="col" class="num">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for object in object_list %}
                                <tr>
                                    <td data-label="Name">{{ object.name }}</td>
                                    <td data-label="Make">{{ object.make }}</td>
                                    <td data-label="Model">{{ object.model }}</td>
                                    <td data-label="Year" class="num">{{ object.year }}</td>
                                    <td data-label="Fuel type">{{ object.fuel_type }}</td>
                                    <td data-label="Actions" class="num">
                                        <div class="actions">
                                            <a class="btn btn-secondary btn-sm" href="{% url 'vehicle-edit' object.pk %}">{% icon 'edit' size='sm' %}<span>Edit</span></a>
                                            <form method="post" action="{% url 'vehicle-delete' object.pk %}" style="display:inline">
                                                {% csrf_token %}
                                                <button type="submit" class="btn btn-danger btn-sm">{% icon 'trash' size='sm' %}<span>Delete</span></button>
                                            </form>
                                        </div>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        {% else %}
            <div class="card-body empty-state">
                <img src="{% static 'img/empty-state.svg' %}" alt="No vehicles illustration">
                <div class="stack-xs" style="align-items:center">
                    <h2>No vehicles yet</h2>
                    <p class="text-muted">Add your first vehicle to start tracking fuel performance.</p>
                    <a class="btn btn-primary" href="{% url 'vehicle-add' %}">{% icon 'plus' size='sm' %}<span>Add vehicle</span></a>
                </div>
            </div>
        {% endif %}
    </article>
</section>
{% endblock %}
