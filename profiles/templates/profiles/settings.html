{% extends "base.html" %}

{% block content %}
<h1>Profile settings â€” {{ request.user.email }}</h1>
{% if messages %}
    <ul>
        {% for message in messages %}
            <li>{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}
<form method="post" novalidate>
    {% csrf_token %}
    <div>
        <label for="id_display_name">Display name:</label>
        {{ form.display_name }}
        {% if form.display_name.errors %}
            <ul>
                {% for error in form.display_name.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    <div>
        <label for="id_currency">Currency (ISO code):</label>
        {{ form.currency }}
        {% if form.currency.errors %}
            <ul>
                {% for error in form.currency.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    <div>
        <label for="id_distance_unit">Distance unit:</label>
        {{ form.distance_unit }}
        {% if form.distance_unit.errors %}
            <ul>
                {% for error in form.distance_unit.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    <div>
        <label for="id_volume_unit">Volume unit:</label>
        {{ form.volume_unit }}
        {% if form.volume_unit.errors %}
            <ul>
                {% for error in form.volume_unit.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    <div>
        <label for="id_utc_offset_minutes">Timezone offset:</label>
        {{ form.utc_offset_minutes }}
        {% if form.utc_offset_minutes.errors %}
            <ul>
                {% for error in form.utc_offset_minutes.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
        <p><small>Timestamps are stored in UTC; this offset will be used later for display.</small></p>
    </div>
    <button type="submit">Save settings</button>
</form>
<section>
    <h2>Preview</h2>
    <p>Distance sample: {{ preview.distance }}</p>
    <p>Volume sample: {{ preview.volume }}</p>
    <p>Currency sample: {{ preview.currency }}</p>
</section>
{% endblock %}
